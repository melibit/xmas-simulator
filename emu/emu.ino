#include <Adafruit_NeoPixel.h>
#include <util/delay.h>
#include <avr/pgmspace.h>

#define PIN 8
#define NUM_LEDS 500

Adafruit_NeoPixel strip(NUM_LEDS, PIN, NEO_GRB + NEO_KHZ800);
void _show() { Serial.println("---"); for (int i = 0; i < NUM_LEDS; i++) { Serial.print(strip.getPixelColor(i)); Serial.println("");}}

const int LED_ORDER[500] PROGMEM = {993,186,175,395,435,12,14,283,344,446,263,49,187,303,41,311,39,299,85,86,
  335,233,287,404,52,113,120,363,466,58,77,189,194,195,312,266,301,414,177,
  239,164,169,284,417,192,468,110,251,411,157,300,200,128,328,362,499,63,
  222,471,476,477,45,96,102,190,212,277,376,398,488,146,276,419,59,148,151,
  171,64,360,147,464,216,310,316,457,153,11,51,315,265,481,173,253,455,103,
  451,184,174,472,492,44,255,412,185,383,384,227,115,242,424,244,352,107,154,
  215,228,389,46,213,332,111,264,386,440,127,450,94,136,1,431,377,285,429,497,
  230,469,286,387,92,371,224,393,394,109,248,325,232,47,273,308,407,491,340,
  74,318,402,359,436,269,124,270,293,61,385,410,437,162,2,36,138,397,15,204,
  280,158,463,448,236,357,258,370,320,366,373,135,254,330,399,309,8,48,56,490,
  141,323,434,245,329,368,176,78,482,134,80,139,37,42,60,214,307,348,483,23,119,
  140,241,275,288,337,365,473,3,7,68,91,98,155,191,198,279,292,298,408,6,
  9,18,24,95,143,145,166,168,201,238,246,249,250,295,297,333,341,413,416,449,
  470,474,484,486,25,31,57,71,137,159,203,229,261,289,294,358,390,485,38,66,
  89,167,170,202,234,256,317,400,418,442,5,114,199,209,324,381,388,444,452,76,
  112,125,149,172,210,427,480,10,182,430,13,72,291,321,50,105,117,156,62,235,445,
  16,278,489,426,220,196,338,34,53,27,70,313,271,132,217,218,361,428,487,314,
  441,240,304,351,197,453,454,346,178,179,100,379,123,494,142,225,369,75,438,
  406,79,327,380,165,326,392,193,354,87,342,69,84,205,26,33,208,247,422,478,
  17,20,28,67,262,347,353,375,421,35,221,259,260,305,339,372,405,90,104,122,226,
  282,334,364,423,458,30,101,272,382,391,152,415,433,4,73,257,183,243,401,403,
  425,130,237,180,465,456,493,81,396,54,116,432,131,439,161,496,343,467,475,374,
  21,296,345,319,367,99,129,97,231,495,211,267,83,133,181,274,447,82,349,108,118,
  350,443,498,106,126,206,252,306,150,188,302,356,290,331,461,479,0,420,55,281,
  322,207,268,19,355,40,460,22,32,88,223,378,409,163,459,121,219,336,462,29,144,
  160,65,43 };

void setup() {
Serial.begin(9600);
  strip.begin();
  strip.setBrightness(200);
  _show();
}

void loop() {
  //strip.clear();
  for (int i = 0; i < NUM_LEDS; i++) {
    int led = pgm_read_word_near(LED_ORDER + i); // read from Flash
    strip.setPixelColor(led, strip.Color(0,255,255));
    _show();
    _delay_ms(10);
  }
  for (int i = 0; i < NUM_LEDS; i++) {
    int led = pgm_read_word_near(LED_ORDER + i); // read from Flash
    strip.setPixelColor(led, strip.Color(255,0,255));
    _show();
    _delay_ms(10);
  }
}
